\section{Todo notes}

Equations of state
\begin{itemize}
    \item Bag model \cite[eq. 7.33]{lecture_notes}
    \item Assumptions on speed of sound and constant parameters
    \item Giese's paper \cite{giese_2020}
    \item Enqvist, old paper \cite{enqvist_nucleation_1992}
\end{itemize}

Employment?
- "things that need to be done"
-> suitable for public dissemination
- write some short description,
    - ArXiv paper

2 papers by Giese, second one is more complete
Paper 1 \cite{giese_2020}
Paper 2 \cite{giese_2021}

TODO: understand these
\begin{itemize}
    \item Relativistic hydrodynamics from the review article (aka. lecture notes) \cite{lecture_notes}
    \item Reviews from other people (not just Hindmarsh)
    \item Article by Mazumdar \& White, especially section 7: relativistic combustion \cite{mazumdar_review_2019}
    \item The sound shell model paper
    \item Really understand what's going on! Compute with pen \& paper etc.
    \item Relativistic hydrodynamics
    \begin{itemize}
        \item The book by Luciano Rezzolla \& Olindo Zanotti \cite{rezzolla_relativistic_2013}
        \item Read the part I (some 300 pages at first)
        \item Contains more than necessary for the thesis
    \end{itemize}
    \item The phase transition section should have plenty of content before Christmas
    \item Enqvist's paper
    \begin{itemize}
        \item Good background: connects the equations of state to particle physics
        \item -> What kinds of equations of state would a particle theory produce
        \item Assumes ultrarelativisticity, which is no longer necessary due to the improvement of computational tools
    \end{itemize}
    \item Ultimately the equation of state can be derived from the "Thermal effective potential".
    \item Chemical potential is zero, as there is no conserved particle number.
    \item J-function, fB, lecture eq. 2.19 etc.
    \begin{itemize}
        \item These will be our first equation of state.
    \end{itemize}
\end{itemize}

"My job is to give the GWs the right energy-momentum tensor"

\section{Basics}
Electroweak symmetry breaking at $10^{-11}$ s, $100$ -- $1000$ GeV.
First-order phase transition
-> bubbles just below the critical temperature
-> gravitational waves

Standard model has a crossover, but many extensions first-order.

Matter-antimatter asymmetry -> net baryon number
(But isn't B an accidental symmetry, whereas B-L is a fundamental one?
How does this correspond to the neutrino content of the universe?)
\cite{lecture_notes}

The gravitational wave spectrum can be calculated from a few thermodynamic properties of ultrarelativistic matter, which can be computed from quantum field theory.
These parameters can be measured by LISA.



\section{Relativistic hydrodynamics}
% Statistical mechanics \cite{huang_statistical_1987}
% \cite{schroeder_thermal_2000}
% \cite[ch. 4]{lecture_notes}
% According to Hindmarsh it's OK to have references on the level of individual chapters and equations.

Our system of interest is an ultrarelativistic plasma.
This means, that the energy of the particles is much higher than their rest mass.
Therefore there is sufficient energy for new particles to be created,
and similarly existing particles will annihilate all the time.
Treating this kind of a system as a classical fluid is not sufficient,
and we need the mathematical machinery of general relativity.

In general relativity the matter and energy content of space are described by the \textbf{energy-momentum tensor} $T^{\mu \nu}$, also known as the stress-energy tensor.
In Minkowski space in Cartesian coordinates it's given as
\cites[eq. 4.17]{rasanen_gr_2022}[fig. 3.3]{rezzolla_relativistic_2013}
\begin{equation}
T_{\mu \nu} =
\begin{bmatrix}
e & -q_1 & -q_2 & -q_3 \\
-q_1 & p + \Pi_{11} & \Pi_{12} & \Pi_{13} \\
-q_2 & \Pi_{12} & p + \Pi_{22} & \Pi_{23} \\
-q_3 & \Pi_{13} & \Pi_{23} & p + \Pi_{33}
\end{bmatrix},
\end{equation}
where $q$ is the energy flux or momentum density and $\Pi_{\mu \nu}$ is known as the anisotropic stress, anisotropic pressure or momentum flux.
\href{https://physics.stackexchange.com/a/412067/298623}{In our case we assume the energy-matter content to be an ideal fluid in thermal equilibrium.}
There is no energy transfer to or from the fluid, and therefore
$\forall j=1,2,3: \quad T^{0j} = 0$.
As the fluid has no viscosity, it does not experience any shear stress, and therefore
$\forall i,j=1,2,3, \quad i \neq j: \quad T^{ij} = 0$.
This does not depend on the reference frame, so the tensor is diagonal in all reference frames.
Therefore $T^{ij} = p \delta^{ij}$.
These are satisfied only by the tensor $T^{00}=e, T^{jj}=p, \forall i \neq j: T^{ij}=0$.
It should be noted that the
\href{https://en.wikipedia.org/wiki/Einstein_notation}{Einstein notation} will be used for the indices throughout the thesis.
Greek indices are used for four-vectors and latin indices for three-vectors.
% The Einstein notation is absolute basics for theoretical physicists, but unfortunately the study programme of many of my applied/technical physicists friends doesn't involve it, so I'm mentioning it explicitly here so that they can google it.
This
\href{https://en.wikipedia.org/wiki/Stress\%E2\%80\%93energy\_tensor\#Stress\%E2\%80\%93energy\_of\_a\_fluid\_in\_equilibrium}{\textbf{energy-momentum tensor of an ideal fluid}}
can be broken in two components as
\cites[eq. 5.11, 5.23]{lecture_notes}[eq. 4.12]{rasanen_gr_2022}
% [eq. 3]{giese_2020}[eq. 4]{giese_2021}
\begin{align}
T^{\mu \nu}_f
&= (e+p) u^\mu u^\nu + p g^{\mu \nu}
\label{eq:ep_tensor} \\
&= w u^\mu u^\nu + p g^{\mu \nu}.
\end{align}

We are assuming the background space-time to be constant, and therefore the total \textbf{energy-momentum is conserved}.
In the language of general relativity this is
\begin{equation}
\nabla_\mu T^{\mu\nu} = 0.
\label{eq:ep_conservation}
\end{equation}
Here $\nabla_\mu$ is the covariant derivative, which in Minkowki space in Cartesian coordinates reduces to the partial derivative $\partial_\mu$.
To expand this equation in a way consistent with \cite[ch. 3.3]{rezzolla_relativistic_2013} we need to define the projection tensor
\cite[eq. 3.9]{rezzolla_relativistic_2013}
\begin{equation}
h_{\mu\nu} \equiv g_{\mu\nu} + u_\mu u_\nu,
\label{eq:projection_tensor}
\end{equation}
and the expansion scalar
\cite[eq. 3.13]{rezzolla_relativistic_2013}
\begin{equation}
\Theta \equiv h^{\mu\nu} \nabla_\nu u_\mu = \nabla_\mu u^\mu.
\end{equation}
Inserting these to \eqref{eq:ep_conservation} results in
% The specific enthalpy is not a meaningful quantity for an ultrarelativistic fluid, and is therefore not used here.
\begin{equation}
\nabla_\mu T^{\mu \lambda} = u^\lambda u^\mu \nabla_\mu (e+p) + (e+p) u^\mu \nabla_\mu u^\lambda + (e+p) \Theta u^\lambda + g^{\lambda\mu} \nabla_\mu p.
\end{equation}
\todo{Should enthalpy be introduced before this? It would make the e+p terms simpler.}
Relativistic acceleration is defined as
\begin{equation}
a_\nu = u^\mu \nabla_\mu u_\nu.
\end{equation}
It is orthogonal to the velocity, and therefore
\begin{equation}
a^\mu u_\mu = 0.
\end{equation}
Projecting using \eqref{eq:ep_conservation} and using these we get
\cite[eq. 3.54]{rezzolla_relativistic_2013}
\begin{equation}
\bm{h} \cdot \bm{\nabla} \cdot \bm{T}
= h^\nu_\lambda \nabla_\mu T^{\mu \lambda}
= (e+p) u^\mu \nabla_\mu u^\nu + h^\nu_\lambda g^{\lambda\mu} \nabla_\mu p
= 0.
\end{equation}
It should be noted that \cite{rezzolla_relativistic_2013} uses the specific enthalpy $h$ in their form these equations, but it is not a meaningful quantity for an ultrarelativistic plasma and is therefore not used here.
Dividing by $e+p$ we get the \textbf{relativistic Euler equations}
\cite[eq. 3.55]{rezzolla_relativistic_2013}
\begin{equation}
u^\mu \nabla_\mu u_\nu + \frac{1}{e+p} h^\mu_\nu \nabla_\mu p = 0.
\end{equation}
Similarly we can project along the direction of velocity,
\begin{equation}
\bm{u} \cdot \bm{\nabla} \cdot \bm{T} = u_\lambda \nabla_\mu T^{\mu\lambda} = 0.
\end{equation}
This results in the \textbf{energy-conservation equation}
\cite[eq. 3.57]{rezzolla_relativistic_2013}
\begin{equation}
u^\mu \nabla_\mu e + (e+p) \Theta = 0.
\end{equation}

For a one-dimensional flow in Cartesian coordinates the energy-momentum conservation of \eqref{eq:ep_conservation} can also be rewritten as
\begin{align}
\partial_t \left[ (e+pv^2) \gamma^2 \right] + \partial_x \left[ (e+p) \gamma^2 v \right] &= 0,
\label{eq:ep_conservation_1d_1} \\
\partial_t \left[ (e+p) \gamma^2 v \right] + \partial_x \left[ (ev^2 + p) \gamma^2 \right] &= 0
\label{eq:ep_conservation_1d_2}
\end{align}
by simply inserting \eqref{eq:ep_tensor} and using the normalisation of four-velocity $u_\mu u^\mu = -1$.
Let's then analyse a perturbation on a fluid that is at rest with $e_0, p_0$ and $v_0 = 0$.
To first order
\begin{equation}
e = e_0 + \delta e, \quad p=p_0 + \delta p, \quad v = v_0 + \delta v = \delta v.
\end{equation}
Substituting these into \eqref{eq:ep_conservation_1d_1} and \eqref{eq:ep_conservation_1d_2} and approximating to first order in the perturbation results in
\begin{align}
\partial_t (\delta e) + (e_0 + p_0) \partial_x (\delta v) = 0,
\label{eq:ep_conservation_rewritten_1} \\
\partial_t (\delta v) + \frac{1}{e_0 + p_0} \partial_x (\delta p) = 0.
\label{eq:ep_conservation_rewritten_2}
\end{align}
Taking the time derivative of \eqref{eq:ep_conservation_rewritten_1} and a space derivative of \eqref{eq:ep_conservation_rewritten_2}, we can combine the equations to the form
\begin{equation}
\partial_t^2 (\delta e) - \frac{\delta p}{\delta e} \partial_x^2(\delta e) = 0.
\end{equation}
This is the familiar wave equation, so the motion of the fluid has wave solutions that we call sound.
\cites[ch. 4.3]{rezzolla_relativistic_2013}[ch. 7.4]{lecture_notes}
The speed of sound is then defined as
\cites[eq. 2.168]{rezzolla_relativistic_2013}[eq. 13]{giese_2020}[eq. 3]{giese_2021}
\begin{align}
c_s^2
&\equiv \frac{dp}{de} \\
&= \frac{dp/dT}{de/dT}
\end{align}
At the ultrarelativistic limit $e=3p$ and therefore $c_s^2=\frac{1}{3}$.
\todo{Write here why}

\iffalse
The
\href{https://en.wikipedia.org/wiki/Clausius\%E2\%80\%93Clapeyron_relation}{Clausius-Clapeyron relation} states that
% According to Hindmarsh it's OK to have hyperlinks to unofficial sources such as Wikipedia.
\cite[eq. 5.47, 5.48]{schroeder_thermal_2000}
\begin{equation}
\frac{dp}{dT} = \frac{L}{T \Delta V} = \frac{\Delta S}{\Delta V}.
\end{equation}
\fi

Proper discussion of relativistic fluids also requires various thermodynamic quantities.
\todo{Derive entropy density properly}
% Let us start from the thermodynamic identity of classical thermal physics
Perturbing around a constant $U$ (effectively setting $dU=0$) gives the entropy density
\todo{Is this the correct explanation?}
\cite[p. 23]{lecture_notes}
\begin{equation}
s \equiv \frac{dS}{dV} = \frac{dp}{dT}.
\label{eq:entropy_density}
\end{equation}

Useful formulas for other thermodynamic quantities can be obtained from the thermodynamic identity of classical thermal physics.
\cites[eq. 2.136]{rezzolla_relativistic_2013}[eq. 3.68]{schroeder_thermal_2000}
\begin{equation}
dU = TdS - pdV + \mu dN,
\label{eq:thermodynamic_identity}
\end{equation}
where $U$ is internal energy, $T$ is temperature, $p$ is pressure, $V$ is volume, $\mu$ is chemical potential and $N$ is the number of particles.
The fluids in our case are ultrarelativistic, and therefore effectively $T >> \mu$,
and we can neglect $dN$.

Inserting \eqref{eq:entropy_density} to \eqref{eq:thermodynamic_identity} gives the \textbf{energy density}
\begin{equation}
e \equiv \frac{dU}{dV} = T \frac{\partial p}{\partial T} - p.
\end{equation}
This in turn can be inserted to the definition of enthalpy
\cite[eq. 1.51]{schroeder_thermal_2000}
\begin{equation}
H \equiv E + pV
\end{equation}
to get the \textbf{enthalpy density}
\begin{align}
w
&\equiv \frac{dH}{dV} \\
&= e+p \\
&= T \frac{\partial p}{\partial T} \\
&= Ts.
\end{align}
\iffalse
Additionally we need to define the \textbf{specific enthalpy} \cite[eq. 2.141]{rezzolla_relativistic_2013}
\begin{equation}
h = \frac{e+p}{\rho},
\label{eq:specific_enthalpy}
\end{equation}
where $\rho$ is the rest-mass density, and the \textbf{entropy current}
% Rest-mass density is defined in eq. 2.123
\fi
Additionally we need to define the \textbf{entropy current}
\cite[p. 23]{lecture_notes}
\begin{equation}
S^\mu \equiv su^\mu.
\end{equation}



\section{Field-fluid system}
Based on \cite{moore_pt_1995}.

In the electroweak phase transition the fluid is coupled to a scalar field with the energy-momentum tensor
\cites[eq. 2.9]{hindmarsh_gw_pt_2019}
\begin{equation}
T_\phi^{\mu \nu}
= \partial^\mu \partial^\nu \phi
- g^{\mu \nu} \left(\frac{1}{2} (\partial \phi)^2 + V_0 (\phi) \right)
\end{equation}

The total energy-momentum is conserved,
\cite[eq. 5.17]{lecture_notes}
\begin{equation}
\partial_\mu T^{\mu \nu} = \partial_\mu (T_f^{\mu \nu} + T_\phi^{\mu \nu}) = 0.
\label{eq:ep_conservation}
\end{equation}



\section{Relativistic combustion}
This chapter of the lecture notes is largely based on the references
% According to Hindmarsh, abbreviating "references" as "refs" is OK in the thesis.
\cites{hindmarsh_gw_pt_2019}{espinosa_energy_2010}.
\todo{Add more content from \cite[ch. 6]{mazumdar_review_2019}.}

If the wall velocity is constant, \eqref{eq:ep_conservation} also holds in the wall frame.
Therefore for a wall moving in the z-direction
\cite[eq. 7]{espinosa_energy_2010}
\begin{equation}
\partial_z T^{zz} = \partial_z T^{z0} = 0.
\end{equation}
Inserting the definition of $T$ from \eqref{eq:ep_tensor} results in the bubble wall junction conditions
\cites[eq. 7.22]{lecture_notes}[eq. B.2-3]{hindmarsh_gw_pt_2019}
% This is almost trivial.
\begin{align}
w_- \tilde{\gamma}_-^2 \tilde{v}_- &= w_+ \tilde{\gamma}_+^2 \tilde{v}_+, \\
w_- \tilde{\gamma}_-^2 \tilde{v}_-^2 + p_- &= w_+ \tilde{\gamma}_+^2 \tilde{v}_+^2 + p_+
\end{align}
These can be rearranged as
\cites[eq. 7.32]{lecture_notes}[eq. 6-7]{giese_2020}
\todo{How to prove this step? My attempts of manual proof have failed.}
\begin{align}
\tilde{v}_+ \tilde{v}_- = \frac{p_+ - p_-}{e_+ - e_-} \\
\frac{\tilde{v}_+}{\tilde{v}_-} = \frac{e_- + p_+}{e_+ + p_-}
\label{eq:junction_ep}
\end{align}
Further simplification of these requires additional definitions
that we will now introduce.

The trace of the energy-momentum tensor of \eqref{eq:ep_tensor} is
\begin{align}
\text{tr} (T^{\mu \nu})
&= T^\mu_\mu \\
&= g_{\mu \nu} T^{\mu \nu} \\
&=3p - e
\end{align}
We can quantify its difference from zero with the trace anomaly
\cites[eq. 7.24]{lecture_notes}[eq. 28]{giese_2020}
\begin{equation}
\theta = \frac{1}{4}(e-3p).
\end{equation}
The definition of the trace anomaly varies by a factor of $\frac{1}{4}$ depending on the source as a matter of convention.
The difference of the trace anomalies just ahead and behind of the wall is denoted as
\begin{align}
\Delta \theta
&\equiv \theta_+(w_+) - \theta_-(w_-) % \\
% &= \theta_s(w_s) - \theta_b(w_b)
\end{align}
With this we can define the transition strength
\begin{equation}
\alpha_+ = \frac{4 \Delta \theta}{3 w_+}.
\end{equation}
The transition strength at nucleation temperature is defined slightly differently as
\cite[eq. 2.11]{hindmarsh_gw_pt_2019}
\begin{equation}
\alpha_n = \frac{4}{3} \frac{\theta_+(w_n) - \theta_-(w_n)}{w_n}.
\end{equation}
We can also define the enthalpy ratio
\begin{equation}
r = \frac{w_+}{w_-}.
\end{equation}
With these definitions the junction conditions of \eqref{eq:junction_ep} can be simplified as
\begin{equation}
\tilde{v}_+ \tilde{v}_- = \frac{1-(1-3\alpha_+)r}{3-3(1+\alpha_+)r},
\quad
\frac{\tilde{v}_+}{\tilde{v}_-} = \frac{3+(1-3\alpha_+)r}{1+3(1+\alpha_+)r}.
\end{equation}
% If a superlative is without a noun, there is no "the".
This is easiest to prove in the reverse direction.
To further get expressions for $\tilde{v}_+$ and $\tilde{v}_-$ that are independent of $r$, we can extract $r$ from both equations and mark those as equal, resulting in the equation
\begin{equation}
\left( \frac{1}{\tilde{v}_-} + 3 \tilde{v}_- \right) \tilde{v}_+ - 3(1+\alpha_+)\tilde{v}_+^2 = 1 - 3\alpha_+.
\end{equation}
% Derivation: Mathematica Eliminate[] and a bit of simplification.
This is of second order in both $\tilde{v}_+$ and $\tilde{v}_-$ and can be solved as \cite[eq. B.6, B.7]{hindmarsh_gw_pt_2019}
\begin{align}
\tilde{v}_+ &= \frac{1}{2(1+\alpha_+)}\left[ \left(\frac{1}{3\tilde{v}_-}+\tilde{v}_-\right) \pm \sqrt{\left(\frac{1}{3\tilde{v}_-} - \tilde{v}_- \right)^2 + 4\alpha_+^2 + \frac{8}{3} \alpha_+} \right]
\label{eq:v_tilde_plus}
\\
\tilde{v}_- &= \frac{1}{2} \left[ \left( (1+\alpha_+)\tilde{v}_+ + \frac{1-3\alpha_+}{3\tilde{v}_+} \right) \pm \sqrt{\left((1+\alpha_+)\tilde{v}_+ + \frac{1-3\alpha_+}{3\tilde{v}_+} \right)^2 - \frac{4}{3}} \right)
\label{eq:v_tilde_minus}
\end{align}
Both of these are basic second-order solutions, but in \eqref{eq:v_tilde_plus} the discriminant has been simplified.

\begin{figure}[h!]
\centering
\missingfigure{TODO}
\caption{Relation between the fluid velocity just ahead of the wall $\tilde{v}_+$ and just behind the wall $\tilde{v}_-$ \cite[fig. 13]{lecture_notes}}
\label{fig:vplus_vminus}
\end{figure}

We can obtain useful continuity equations from the conservation of energy-momentum.
We start by defining two vectors, the fluid 4-velocity
\begin{equation}
u^\mu = \gamma(-1, \overrightarrow{v})^\mu
\end{equation}
and its orthonormal vector
\begin{equation}
\bar{u}^\mu = \gamma(-v, \frac{\overrightarrow{v}}{v})^\mu.
\end{equation}
These form an orthonormal basis.
It should be noted, that for orthonormal vectors
\begin{align}
% Note that the lecture notes use ubar here.
u_\mu u^\mu &= -1, \\
u_\mu \bar{u}^\mu &= 0.
\end{align}
By projecting the conservation equation (\ref{eq:ep_conservation}) to this basis we get
\cite[eq. 7.28-7.29]{lecture_notes}
\begin{align}
0 &= u_\mu \partial_\nu T^{\mu \nu}   &&= -\partial_\mu (w u^\mu) + u^\mu \partial_\mu p, \\
0 &= \bar{u} \partial_\nu T^{\mu \nu} &&= w \bar{u}^\nu u^\mu \partial_\mu u_\nu + \bar{u}^\mu \partial_\mu p.
\end{align}
These are known as the continuity equations, or the hydrodynamic equations. \todo{Where did I find the latter name from?}
They have spherically symmetric self-similar solutions, and can therefore be expressed using the dimensionless coordinate
\begin{equation}
\xi = \frac{r}{t}.
\end{equation}
This results in the equations
\todo{Todo: Derive these using Espinoza's article, and see the handwritten notes by Hidmarsh. It's longer than it looks.}
\cites[eq. 7.30-7.31]{lecture_notes}[eq. 5]{giese_2021}
\begin{align}
\frac{dv}{d\xi} &= \frac{2v(1-v^2)}{\xi(1-v\xi)} \left( \frac{\mu(\xi,v)^2}{c_s^2} - 1 \right)^{-1},
\label{eq:hydro1}
\\
\frac{dw}{d\xi} &= w \left( 1 + \frac{1}{c_s^2} \right) \gamma^2 \mu(\xi,v) \frac{dv}{d\xi},
\label{eq:hydro2}
\end{align}
where
\begin{equation}
\mu(\xi,v) = \frac{\xi - v}{1 - \xi v}
\end{equation}
is the
\href{https://en.wikipedia.org/wiki/Velocity-addition_formula#Standard_configuration}{Lorentz transformed fluid velocity}
$\xi$ in a frame moving outward with the speed $v$.

For easier integration these equations can be rearranged to the parametric form of
\cite[eq. B.14-16]{hindmarsh_gw_pt_2019}
\begin{align}
\frac{d\xi}{d\tau} &= \xi \left[ (\xi - v)^2 - c_s^2 (1 - \xi v)^2 \right], \\
\frac{dv}{d\tau} &= 2 v c_s^2 (1 - v^2) (1 - \xi v), \\
\frac{dw}{d\tau} &= w \left( 1 + \frac{1}{c_s^2} \right) \gamma^2 \mu \frac{dv}{d\tau}.
\end{align}
It should be noted that in general $c_s^2 = c_s^2(w,\phi)$, which tightens the coupling between these equations.
The parametric equations have fixed points at
$(\xi,v) = (0,0)$ and
$(\xi,v) = (1,1)$.
When $c_s$ is a constant, the equations also have a fixed point at
$(\xi,v) = (c_s,0)$.
When $c_s$ is constant, the first two equations are not dependent on enthalpy, which simplifies the integration considerably.
However, in the general case of $c_s(w,\phi)$ the equations have to be integrated together.
\todo{Add $(\xi,v)$ plots to the models and refer to them here.}


\section{Types of solutions}
Solutions to the hydrodynamic equations (\ref{eq:hydro1}, \ref{eq:hydro2}) are obtained by integrating away from the position of the bubble wall, $\xi_w$.
There are two relevant external boundary conditions.
To maintain spherical symmetry
\begin{equation}
\lim_{\xi \rightarrow 0} v = 0.
\end{equation}
To maintain causality
\begin{equation}
\lim_{\xi \rightarrow 1} v = 0,
\end{equation}
as no information can propagate faster than light, and we assume the fluid to be stationary until a signal from the expanding bubble arrives.
In addition to these there is one boundary condition for each side of the wall as
\begin{equation}
\lim_{\xi \rightarrow \xi_w^\pm = v_w \pm \delta, \delta \rightarrow 0} v = v_\pm = \mu (\xi_w, \tilde{v}_\pm),
\end{equation}

There are two ways to satisfy these conditions.
We can either start at $v=0$, or from a region where $\xi > c_{s-}$ and $\mu(\xi,v) > c_{s-}(w)$, and therefore $\frac{dv}{d\xi} > 0$,
and integrating backwards in $\xi$ over a route where $\mu(\xi,v) > c_{s-}(w)$ is satisfied.
The other way to reach $v=0$ is by a discontinuity, i.e. a shock.
This leads to two classes of solutions.
Another way to see that there are two classes of solutions is by noting
that the equations \ref{eq:v_tilde_plus} and \ref{eq:v_tilde_minus} have two branches.
These solutions are classified in table \ref{table:solution_types}.

The solutions with $\tilde{v}_+ > \tilde{v}_-$ are known as detonations.
% In this case there is no way for the front to influence the fluid ahead,
% and the outermost front is a shock.
Detonations are further characterised by the scale of their $\tilde{v}_-$.
In weak detonations $\tilde{v}_- > c_{s-}(w_-)$.
However, weak detonations are not possible in an exothermic reaction such as a cosmological phase transition.
\cite[p. 265]{rezzolla_relativistic_2013}
\todo{How should we modify the $(\xi,v)$ plot for weak detonations to appear?}
Correspondingly, detonations with $\tilde{v}_- < c_{s-}(w_-)$ are known as strong detonations.
However, they are unstable and will naturally evolve into the third class of detonations,
the Chapman-Jouguet detonations, for which $\tilde{v}_- = c_{s-}(w_-)$.
\cite[p. 279]{rezzolla_relativistic_2013}
Since we are investigating a self-similar bubble that has already evolved for some time,
all our detonations of interest are Chapman-Jouguet detonations.
\todo{What would a strong detonation look like in the $(\xi,v)$ plot?}
In Chapman-Jouguet detonations the shock and phase boundary fronts are unified to a single front.

The solutions where $\tilde{v}_+ < \tilde{v}_-$ are known as deflagrations.
In them the phase front can influence the fluid ahead, and the wall is preceded by an accelerating fluid and a shock.
Like with weak detonations, strong deflagrations are not possible in an exothermic reaction.
\cite[p. 267]{rezzolla_relativistic_2013}
Therefore only weak and Chapman-Jouguet deflagrations are possible.
In weak detonations the fluid inside the phase boundary is still, and the preceding shock is weak and
known as the precompression front.

In several articles \cites[p. 37]{lecture_notes}[p. 35]{hindmarsh_gw_pt_2019}
Chapman-Jouguet detonations are known as supersonic deflagrations or hybrids,
\todo{Chapman-Jouguet detonations are the fastest, but the relation between hybrids and C-J is not one-to-one. Fix this}
as in them the wall speed exceeds the speed of sound in the broken phase $c_{s-}$,
and the fluid is moving inside the phase boundary as well, as in a detonation.
\todo{Investigate what a strong detonation looks like.}

\begin{table}[ht!]
\small
\begin{tabular}{r|c|c}
                & Detonations            & Deflagrations \\
                & $p_+ < p_-, \tilde{v}_+ > \tilde{v}_-$ & $p_+ > p_-, \tilde{v}_+ < \tilde{v}_-$ \\ \hline
Weak            & {\color{gray} $\tilde{v}_+ > c_{s+}(w_+), \ \tilde{v}_- > c_{s-}(w_-)$} & $\tilde{v}_+ < c_{s+}(w_+), \ \tilde{v}_- < c_{s-}(w_-)$ \\
Chapman-Jouguet & $\tilde{v}_+ > c_{s+}(w_+), \ \tilde{v}_- = c_{s-}(w_-)$ & $\tilde{v}_+ < c_{s+}(w_+), \ \tilde{v}_- = c_{s-}(w_-)$ \\
Strong          & {\color{gray} $\tilde{v}_+ > c_{s+}(w_+), \ \tilde{v}_- < c_{s-}(w_-)$} & {\color{gray} $\tilde{v}_+ < c_{s+}(w_+), \ \tilde{v}_- > c_{s-}(w_-)$} \\
\end{tabular}
\label{table:solution_types}
\end{table}

\begin{figure}[h!]
\centering
\missingfigure{TODO}
\caption{Three different types of relativistic combustion \cite[fig. 14]{lecture_notes}}
\label{fig:solution_types}
\end{figure}

\clearpage
\FloatBarrier
\subsection{Speed limits}
The observables of a physical system must be real, including $\tilde{v}_+$ and $\tilde{v}_-$.
Therefore the expressions in the square roots of \ref{eq:v_tilde_plus} and \ref{eq:v_tilde_minus} must be real.
By simplifying the expression in the square root of \ref{eq:v_tilde_plus} we see that the square root is real $\forall \alpha_+ \geq 0$,
but setting the square root in \ref{eq:v_tilde_minus} to zero gives a limit for $\tilde{v}_+$ as
\begin{equation}
\tilde{v}_+ = \frac{1}{\sqrt{3}} \left( \frac{1 \pm \sqrt{2 \alpha_+ + 3 \alpha_+^2}}{1 + \alpha_+} \right).
\label{eq:v_tilde_plus_limit}
\end{equation}
The positive sign is the lower limit for detonations, and the negative sign is the upper limit for deflagrations.
This is the same equation as in \cites[eq. 7.34]{lecture_notes}[eq. B.19]{hindmarsh_gw_pt_2019},
but in those articles there is a typo due to which a factor of 2 is missing from the expression.

Inserting this value to the equation \ref{eq:v_tilde_minus} and simplifying the expression with the knowledge that the square root is now zero
we get that
\begin{equation}
\tilde{v}_- = \frac{1}{\sqrt{3}}.
\label{eq:v_tilde_minus_limit}
\end{equation}
This is the lower limit for detonations, and the upper limit for deflagrations.

The Chapman-Jouguet speed is defined as
\begin{equation}
\tilde{v}_+=v_{CJ} \Leftrightarrow \tilde{v}_- = c_{s-}(w_-).
\label{eq:chapman_jouguet}
\end{equation}
Starting from section \ref{bag_model} we will see that for some models the speed limit set by the Chapman-Jouguet speed of \ref{eq:chapman_jouguet}
and the condition of \ref{eq:v_tilde_minus_limit} that the observables are real are equivalent,
but in general this is not the case.

Now we have the necessary knowledge to classify the different regions of fig. \ref{fig:vplus_vminus}.
If the speeds of sound are equivalent to $\frac{1}{\sqrt{3}}$,
we can have only weak and Chapman-Jouguet detonations and deflagrations.
However, the weak detonations are ruled out for the aforementioned reason that they are not possible in an exothermic reaction.

When the speed of sound in the broken phase $c_{s-}(w_-) < \frac{1}{\sqrt{3}}$,
we can have a strong deflagration where $c_{s-}(w_-) < \tilde{v}_- < \frac{1}{\sqrt{3}}$.
Correspondingly, when $c_{s-}(w_-) > \frac{1}{\sqrt{3}}$,
we can have a strong detonation where $\frac{1}{\sqrt{3}} < \tilde{v}_-(w_-, \phi_-) < c_{s-}(w_-)$.
However, as previously discussed, a strong detonation is unstable and will evolve into a Chapman-Jouguet detonation.
Since for Chapman-Jouguet detonations $v_w = \tilde{v}_+ > \tilde{v}_-$,
the Chapman-Jouguet speed is the lower speed limit for detonations that have been evolving for a sufficiently long time.
