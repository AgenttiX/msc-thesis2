\section{The constant sound speed model}
\label{const_cs}
The constant sound speed model, also known as the $\mu_\pm$ model, the $\mu, \nu$ model,
or in some sources as the template model,
expands the bag model by allowing a different speed of sound in each phase.
\cites{leitao_hydrodynamics_2015}{giese_2020}{giese_2021}
It is obtained by setting
\begin{equation}
g_{p\pm} = \frac{90}{\pi^2} a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4},
\end{equation}
where $\mu_\pm$ are constants.
This results in the equation of state
\cites[eq. 15]{giese_2021}[eq. 38]{giese_2020}
\begin{equation}
p_\pm = a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4} T^4 - V_\pm {\color{gray} \approx a_\pm T^{\mu_\pm} - V_\pm }, \\
\end{equation}
The reference temperature $T_0$ is introduced for the consistency of the units.
For simplicity it can be set to 1 GeV, or whichever unit one is using for the temperature.
The greyed-out version is commonly seen in articles and useful, but has inconsistent units.
The parameters $\mu_\pm$ are determined by the sound speeds in the symmetric and broken phases with
\cites[eq. 16]{giese_2021}[eq. 39]{giese_2020}
\footnote{Please note that there is a typo in \cite[eq. 15]{giese_2021}. There the 4 should be a $\mu$.}
\begin{equation}
\mu_\pm \equiv 1 + \frac{1}{c_{s\pm}^2},
\end{equation}
This model reduces to the bag model,
when $c_{s+}^2 = c_{s-}^2 = \frac{1}{3}$
and equivalently
$\mu_+ = \mu_- = 4$.

Similarly as for the bag model we can derive the entropy density
\begin{equation}
s_\pm = \mu_\pm a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4} T^3,
\end{equation}
and from it the enthalpy density
\begin{equation}
w_\pm = \mu_\pm a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4} T^4
\label{eq:w_const_cs}
\end{equation}
and finally the energy density
\begin{equation}
e_\pm = (\mu_\pm - 1) a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4} T^4 + V_\pm.
\end{equation}
The equation for enthalpy density \eqref{eq:w_const_cs} can be inverted to give the temperature as a function of enthalpy
\begin{equation}
T_\pm = \left( \frac{w}{\mu_\pm a_\pm T_0^4} \right)^\frac{1}{\mu_\pm} T_0,
\end{equation}
Therefore the effective degrees of freedom are
\begin{align}
g_{p\pm} &= \frac{90}{\pi^2} a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4}, \\
g_{s\pm} &= \frac{45}{2\pi^2} \mu_\pm a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4}, \\
g_{e\pm} &= \frac{30}{\pi^2} (\mu - 1) a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4}.
\end{align}


The trace anomaly of \eqref{eq:theta} simplifies to
\begin{align}
\theta_\pm(w)
&= \left( \frac{\mu_\pm}{4} - 1 \right) a_\pm \left( \frac{T}{T_0} \right)^{\mu_\pm - 4} T^4 + V_\pm \\
&= \left( \frac{1}{4} - \frac{1}{\mu_\pm} \right) w_\pm + V_\pm
\label{eq:theta_const_cs}
\end{align}
The transition strength of \eqref{eq:alpha_plus} simplifies to
\begin{equation}
\alpha_+ = \frac{1}{3} \left( 1 - \frac{4}{\mu_+} \right) - \frac{1}{3} \left(1 - \frac{4}{\mu_-} \right) \frac{w_-}{w_+} + \alpha_{+,\text{bag}}.
\label{eq:alpha_plus_const_cs}
\end{equation}
The transition strength at nucleation temperature of \eqref{eq:alpha_n} is correspondingly
\begin{align}
\alpha_n &= \frac{1}{3} \left( 1 - \frac{4}{\mu_+} \right) - \frac{1}{3} \left(1 - \frac{4}{\mu_-} \right) \frac{w(T_n, \phi_-)}{w_n} + \alpha_{n,\text{bag}} \\
&= \frac{4}{3} \left( \frac{1}{\mu_-} - \frac{1}{\mu_+} \right) + \frac{1}{3} \left( 1 - \frac{4}{\mu_-} \right)
\left( 1 - \frac{\mu_- a_-}{\mu_+ a_+} \left( \frac{T_n}{T_0} \right)^{\mu_- - \mu_+} \right) + \alpha_{n,\text{bag}}
\label{eq:alpha_n_const_cs}
\end{align}
\iffalse
%% This is wrong
Inverting this gives the enthalpy at the nucleation temperature
\begin{equation}
w_n = \frac{V_+ - V_-}{ \frac{3}{4} \alpha_n + \frac{1}{\mu_+} - \frac{1}{\mu_-} }.
\label{eq:wn_const_cs}
\end{equation}
\fi
When $\mu_- = 4$, $\alpha_n$ of \eqref{eq:alpha_n_const_cs} becomes independent of $w_-$, resulting in
\begin{equation}
w_n = \frac{4 (V_+ - V_-)}{3 \alpha_n + \frac{4}{\mu_+} - 1}.
\label{eq:wn_const_cs_mu4}
\end{equation}
In this case we can obtain $v_{CJ}(\alpha_n, c_{s+})$ analytically.
First we insert $\alpha_n$ to \eqref{eq:wn_const_cs_mu4} to get $w_n$,
and then insert $w_n$ to \eqref{eq:alpha_plus_const_cs} to get $\alpha_+$,
since in this case $\alpha_+$ is independent of $w_-$.
Then we can insert $c_{s-}$ and $\alpha_+$ to \eqref{eq:v_tilde_plus} to get $\tilde{v}_+ = v_{CJ}$.

\iffalse
Now we have everything necessary to compute $\alpha_+$ and the Chapman-Jouguet speed $v_{CJ}$ analytically from $c_{s+}$, $c_{s-}$ and $\alpha_n$.
From these we get $w_n$ with \eqref{eq:wn_const_cs}, and for a detonation $w_+=w_n$.
This we can insert to \eqref{eq:wm_const_cs}, giving us $w_-$.
Now we have all the variables necessary to compute $\alpha_+$ with \eqref{eq:alpha_plus}.
Then we insert $\tilde{v}_- = c_{s-}$ to \eqref{eq:v_tilde_plus}, giving us the Chapman-Jouguet speed $v_{CJ} = v_+$.
\todo{This is wrong! We have a circular dependency and must solve the equation group at once.}
\fi

The pseudotrace of \eqref{eq:theta_bar} is given by
\begin{align}
\bar{\Theta} = (\mu_\pm - \mu_-) a \left(\frac{T}{T_0}\right)^{\mu_\pm - 4} T_0^4 + \mu_- V_\pm.
\end{align}
Therefore the corresponding transition strengths of \eqref{eq:alpha_theta_bar_plus} and \eqref{eq:alpha_theta_bar_n} become
\begin{align}
\alpha_{\bar{\Theta}_+} &= \frac{1}{3} \left(1 - \frac{\mu_-}{\mu_+}\right) + \frac{\mu_-}{4} \alpha_{+,\text{bag}}, \\
\alpha_{\bar{\Theta}_n} &= \frac{1}{3} \left(1 - \frac{\mu_-}{\mu_+}\right) + \frac{\mu_-}{4} \alpha_{n,\text{bag}}.
\end{align}
These are equal for detonations regardless of the wall speed or the speeds of sound,
since $\alpha_{+,\text{bag}} = \alpha_{n,\text{bag}}$ for detonations.

If we set $T_0 = T_c$, eq. \eqref{eq:critical_temp} results in
\begin{equation}
\Delta V = (a_+ - a_-) T_c^4.
\end{equation}
Using this the "bag" part in eq. \eqref{eq:alpha_plus_const_cs} and \eqref{eq:alpha_n_const_cs} becomes
\begin{align}
\alpha_{+,\text{bag}} &= \frac{4}{3 \mu_+} \left( 1 - \frac{a_-}{a_+} \right) \left( \frac{T_+}{T_c} \right)^{-\mu_+}, \\
\alpha_{n,\text{bag}} &= \frac{4}{3 \mu_+} \left( 1 - \frac{a_-}{a_+} \right) \left( \frac{T_n}{T_c} \right)^{-\mu_+}.
\end{align}
Using this we can reorder \eqref{eq:alpha_n_const_cs} to
\begin{equation}
\frac{a_-}{a_+} = \frac{4 + \left( \mu_+ - 4 - 3 \mu_+ \alpha_n \right) \left(\frac{T_n}{T_c}\right)^{\mu_+}}{4 + \left( \mu_- - 4 \right) \left(\frac{T_n}{T_c}\right)^{\mu_-}}.
\end{equation}
\iffalse
% There seems to be an error in the way this is derived.
% (See my notes 2024-02-27 Alpha)
Noting that $T_n < T_c$, this restricts $\alpha_n$ to
\begin{equation}
\alpha_n > \frac{\mu_+ - \mu_-}{3 \mu_+}.
\end{equation}
Even though we have used $T_0 = T_c$ in the intermediate steps, this restriction is general.
\fi

Approximating $T_+ \approx T_-$ results in eq. \eqref{eq:cs2_compact} being approximated as
\begin{equation}
c_{s,b}^2
\equiv \frac{dp_b}{de_b}
= \frac{dp_b/dT}{de_b/dT} \big|_{T_+ \approx T_-}
\approx \frac{\delta p_-}{\delta e_-}.
\label{eq:const_cs_approx}
\end{equation}
In the case of the constant sound speed model $c_{s}$ is independent of temperature, and therefore this approximation is exact.
With this approximation and the use of eq. \eqref{eq:delta_relation} the second junction condition of eq. \eqref{eq:junction_conditions_simplified} becomes
\begin{equation}
\delta p_- \left(1 - \frac{\tilde{v}_+ \tilde{v}_-}{c_{s,b}^2} \right) = \tilde{v}_+ \tilde{v}_- De_+ - Dp_+
\end{equation}
Using this, eq. \eqref{eq:delta_relation} and eq. \eqref{eq:enthalpy_sum} on the first junction condition of \eqref{eq:junction_conditions_simplified} results in
\begin{align}
\frac{\tilde{v}_+}{\tilde{v}_-}
&\approx \frac{
w_+ \left( \frac{\tilde{v}_+ \tilde{v}_-}{c_{s,b}^2} - 1 \right) + \left( De_+ - \frac{Dp_+}{c_{s,b}^2} \right)
}{
w_+ \left( \frac{\tilde{v}_+ \tilde{v}_-}{c_{s,b}^2} - 1 \right) + \tilde{v}_+ \tilde{v}_- \left( De_+ - \frac{Dp_+}{c_{s,b}^2} \right)
} \\
&= \frac{ \left( \frac{\tilde{v}_+ \tilde{v}_-}{c_{s,b}^2} - 1 \right) + 3 \alpha_{\bar{\Theta}_+}
}{
\left( \frac{\tilde{v}_+ \tilde{v}_-}{c_{s,b}^2} - 1 \right) + 3\tilde{v}_+ \tilde{v}_- \alpha_{\bar{\Theta}_+}}
\label{eq:const_cs_vp_vm}
\end{align}
The only approximation in this calculation is that of eq. \eqref{eq:const_cs_approx}.
As it is exact for the constant sound speed model,
eq. \eqref{eq:const_cs_vp_vm} is exact for the constant sound speed model.
Eq. \eqref{eq:const_cs_vp_vm} can be rearranged to
\begin{equation}
\frac{\tilde{v}_+}{c_{s,b}^2} \tilde{v}_-^2
+ \left(3 \alpha_{\bar{\Theta}_+} - 1 - \tilde{v}_+^2 \left(\frac{1}{c_{s,b}^2} + 3 \alpha_{\bar{\Theta}_+} \right) \right) \tilde{v}_-
+ \tilde{v}_+
= 0,
\end{equation}
which is a basic second-order equation for $\tilde{v}_- ( \tilde{v}_+, \alpha_{\bar{\Theta}_+} )$.
Since $\tilde{v}_+ = v_w$ for all detonations, and $\alpha_{\bar{\Theta}_+} = \alpha_{\bar{\Theta}_n}$ for all detonations in the constant sound speed model, this gives $\tilde{v}_- ( v_w, \alpha_{\bar{\Theta}_n} )$.
And since \eqref{eq:alpha_n_const_cs} gives $\alpha_n(\mu_+, \mu_-, \alpha_{n,\text{bag}}$, we have $\tilde{v}_- (v_w,
$
TODO
Eq. \eqref{eq:const_cs_vp_vm} can also be rearranged to
\begin{equation}
\left( \frac{1}{c_{s,b}^2} + 3\alpha_{\bar{\Theta}_+} \right) \tilde{v}_+^2
- \left( \frac{1}{\tilde{v}_-} + \frac{\tilde{v}_-}{c_{s,b}^2} \right) \tilde{v}_+
+ 1 - 3\alpha_{\bar{\Theta}_+}
= 0.
\end{equation}
This gives the Chapman-Jouguet speed $\tilde{v}_+ \left( \tilde{v}_- = c_{s,b} \right)$ as
\cite[eq. 55]{giese_2020}
\begin{equation}
v_{CJ} = \frac{ 1 + \sqrt{ 3\alpha_{\bar{\Theta}_+} ( 1 - c_{s,b}^2 + 3 c_{s,b}^2 \alpha_{\bar{\Theta}_+} ) }}{ \frac{1}{c_{s,b}} + 3 c_{s,b} \alpha_{\bar{\Theta}_+}}.
\end{equation}
This holds for all values of $\mu_+$ and $\mu_-$.
